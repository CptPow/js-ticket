<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>grand roue</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous"> 
  </head>
  <body>

<main class="container">
    <img src="grandroue.jpg" alt="grandroue" class="img-fluid">
</main>
<div class="container text-center mt-5">
    <p  class="h1">Acquista biglietti</p>
</div>
<div class="container mb-5">
<!--ETA-->
  <p class="fw-bold">La tua età: <span id="etaView" class="fw-light"></span></p>
<!--ALTEZZA-->
  <p class="fw-bold">La tua altezza (cm): <span id="altezzaView" class="fw-light"></span></p>
<!--BIGLIETTI-->
  <p class="fw-bold">Biglietti: <span id="bigliettiView" class="fw-light"></span></p>
<!--PREZZO-->
  <p class="fw-bold">Prezzo: <span id="prezzoView" class="fw-light"></span></p>
<!--BTN-->
  <button type="submit" id="btn-verifica">Verifica requisiti</button>
  <button type="reset" onclick="window.location.reload()">Reset dati</button>
  <button type="submit" id="btn-buy">Compra</button>
 </div>

<!--^Bootstrap-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>

<script>
  let biglietti = null;
  let prezzoView = document.querySelector("#prezzoView")
  let btnVerifica = document.querySelector("#btn-verifica")
  let btnBuy = document.querySelector("#btn-buy")
  let etaView = document.querySelector("#etaView")
  let altezzaView = document.querySelector("#altezzaView")
  let bigliettiView = document.querySelector("#bigliettiView")
  let eta = setTimeout(function() {
    eta = prompt("Inserisci età");
    etaView.innerHTML = eta;
  },1000);
  let altezza = setTimeout(function(){
    altezza = prompt("Inserisci la tua altezza","150");
    altezzaView.innerHTML = altezza;
  },1500);
  prezzoBiglietto = 6;
  sconto = 0.6;
  totale = null;

  let datiCompilati = function(){
    if (eta < 16) {
      etaView.innerHTML = `<p style="color:red";>"Siamo spiacenti,ma non hai ancora l'età giusta per salire sulla giostra.</p>`;
    }
    if(altezza < 160){
      altezzaView.innerHTML = `<p style="color:red";>Siamo spiacenti,ma non hai ancora l'altezza giusta per salire sulla giostra.</p>`;
    }
    else{
biglietti = prompt("Numero di biglietti")
bigliettiView.innerHTML = biglietti;
    }
    if(biglietti > 1){
      totale = ((prezzoBiglietto - sconto) * biglietti)+ sconto;
      prezzoView.innerHTML = totale.toFixed(2);
    }
    
  }

let compra = function(){
  if(totale >= 6 && eta >= 16 && altezza >= 160)
  alert("Ti sono stati accreditati 1000€")
  else{
    alert("Requisiti non raggiunti, resetta il form")
  }
}

btnBuy.addEventListener("click", compra)
btnVerifica.addEventListener("click", datiCompilati)
      
</script>
    
  </body>
</html>
